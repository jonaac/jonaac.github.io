/**
 * Google maps handler (choose between map and street view)
 */
$(function(){"use strict";function a(){var a=e.data("lat"),b=e.data("lng");e.empty(),c=new GMaps({el:"#"+e.attr("id"),lat:a,lng:b}),c.addMarker({lat:a,lng:b})}function b(){var a=e.data("lat"),b=e.data("lng");e.empty(),GMaps.createPanorama({el:"#"+e.attr("id"),lat:a,lng:b})}var c,d=$(".google-map"),e=d.find(".google-map-container"),f=d.find(".google-map-tabs"),g=f.find(".active");if(d.length&&e.length&&g.length){var h=g.find(".google-map-view").length?"google-map":!!g.find(".street-view").length&&"street-view";"google-map"==h&&a(),"street-view"==h&&b()}f.on("click",".google-map-view",function(b){b.preventDefault(),a(),f.find(".active").removeClass("active"),$(this).closest("li").addClass("active")}),f.on("click",".street-view",function(a){a.preventDefault(),b(),f.find(".active").removeClass("active"),$(this).closest("li").addClass("active")})});